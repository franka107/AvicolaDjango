{% extends 'farm/base.html' %}
{% block content %}
{% load static %}
{% if messages %}
  <ul class="messages list-group mb-3">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }} list-group-item list-group-item-primary"{% endif %}>{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %}  
<div align="left" class="btn_crear mb-3">
  <a href="crear"  class="btn btn-primary">Crear</a>
</div>
<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th width="35%">Nombre</th>
      <th>Tipo</th>
      <th>Granja</th>
      <th>Estado</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
  
  <!-- Recorremos los objetos o registros que tenemos en nuestra tabla 'postres' y los listamos -->
  {% for shed in object_list %}
    <tr>
      <td>{{ shed.name }}</td>
      <td>{{ shed.type }}</td>
      <td>{{ shed.farm }}</td>
      <td>{{ shed.is_active }}</td>
      <td>        
        <!-- Usaremos un formulario que realizarÃ¡ la tarea de eliminar un registro o postre desde la misma tabla HTML -->                        
        <form method="POST" action="eliminar/{{shed.id}}">
          {% csrf_token %}
          <div class="btn-group">
 
            <!-- Creamos 3 botones que son ver, Editar y Eliminar, nos sirven para gestionar nuestros registros o postres -->
            <a href="detalle/{{shed.id}}" title="Ver"  class="btn btn-success">Ver </a>
            <a href="editar/{{shed.id}}" title="Editar"  class="btn btn-primary">Editar </a>
            <button class="btn btn-danger" onclick="return eliminar();" type="submit">
              Eliminar
            </button>
          </div>
        </form>
 
      </td>
    </tr>
  {% endfor %}
 
  </tbody>
</table>
<script type="text/javascript">
  function eliminar() {
    var x = confirm("Eliminar Producto ?");
    if (x)
      return true;
    else
      return false;
  }
</script>
{% endblock %} 
 